<!DOCTYPE html>
<html lang="en-US">
<body background="images/background.png">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="LCY.Hugepanda" />
        <meta name="copyright" content="LCY.Hugepanda" />
		
<head>
    <style>
        .bannerbox {
            width:100%;
            position:relative;
            overflow:hidden;
            height:140px;
        }
        .banner {
            width:1500px;
            position:absolute;
            left:50%;
            margin-left:-800px;
        }
    </style>
</head>
<body>
    <div class="bannerbox">
        <div class="banner">
            <img src="images\\LCYbanner.png">
        </div>
    </div> 
</body>
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Python, Cython, Python, " />

<meta property="og:title" content="使用Cython加速Python程序执行 "/>
<meta property="og:url" content="/shi-yong-cythonjia-su-pythoncheng-xu-zhi-xing.html" />
<meta property="og:description" content="用Cython加速Python程序的一个简单例子¶ Python是我们非常喜欢的一种语言，我们的LOGO中的“L”就是一条代表了Python的蛇 :) 然而，由于Python本身的语言特性，使得它在特定的情况下会出现速度瓶颈，本文就使用Cython做一个简单的例子，说明如何使用C和Python的混合（这大概并不是精确意义下的混合编程）达到优化Python程序的目的。 几点说明：¶ 本文大量参考了参考文献[1] 本文的写作环境使用Python 2.7, IPython Notebook 1.1.0, Cython 0.17.2和Windows 7 64bit 为了展示方便，本文并没有描述如何在实际开发环境中编译和使用Cython模块，请参考官方文档（http://docs.cython.org/src/tutorial/cython_tutorial.html） Cython、Numba、PyPy等都可以用于优化Python程序的运行效率，numpy等专门进行科学计算的模块本身也会有优化，请不要把自己的思路限制在这里 Cython实际上是一种新的编程语言，主要用于开发Python扩展模块，我们基于Cython所做的优化，本质是使用了Cython这种编程语言编写了融合C和Python风格的程序，然后通过编译称为程序模块 ..." />
<meta property="og:site_name" content="LCY Data Science Couple" />
<meta property="og:article:author" content="LCY.Hugepanda" />
<meta property="og:article:published_time" content="2015-04-14T13:02:00+08:00" />
<meta name="twitter:title" content="使用Cython加速Python程序执行 ">
<meta name="twitter:description" content="用Cython加速Python程序的一个简单例子¶ Python是我们非常喜欢的一种语言，我们的LOGO中的“L”就是一条代表了Python的蛇 :) 然而，由于Python本身的语言特性，使得它在特定的情况下会出现速度瓶颈，本文就使用Cython做一个简单的例子，说明如何使用C和Python的混合（这大概并不是精确意义下的混合编程）达到优化Python程序的目的。 几点说明：¶ 本文大量参考了参考文献[1] 本文的写作环境使用Python 2.7, IPython Notebook 1.1.0, Cython 0.17.2和Windows 7 64bit 为了展示方便，本文并没有描述如何在实际开发环境中编译和使用Cython模块，请参考官方文档（http://docs.cython.org/src/tutorial/cython_tutorial.html） Cython、Numba、PyPy等都可以用于优化Python程序的运行效率，numpy等专门进行科学计算的模块本身也会有优化，请不要把自己的思路限制在这里 Cython实际上是一种新的编程语言，主要用于开发Python扩展模块，我们基于Cython所做的优化，本质是使用了Cython这种编程语言编写了融合C和Python风格的程序，然后通过编译称为程序模块 ...">
<meta property="og:image" content="images/150414-feature.png" />
<meta name="twitter:image" content="images/150414-feature.png" >

        <title>使用Cython加速Python程序执行  · LCY Data Science Couple
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>LCY Data Science Couple</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
							<li ><a href="/skill.html">Skill Tree</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/shi-yong-cythonjia-su-pythoncheng-xu-zhi-xing.html"> 使用Cython加速Python程序执行  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="用Cython加速Python程序的一个简单例子">&#29992;Cython&#21152;&#36895;Python&#31243;&#24207;&#30340;&#19968;&#20010;&#31616;&#21333;&#20363;&#23376;<a class="anchor-link" href="#用Cython加速Python程序的一个简单例子">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Python是我们非常喜欢的一种语言，我们的LOGO中的“L”就是一条代表了Python的蛇 :)</p>
<p>然而，由于Python本身的语言特性，使得它在特定的情况下会出现速度瓶颈，本文就使用Cython做一个简单的例子，说明如何使用C和Python的混合（这大概并不是精确意义下的混合编程）达到优化Python程序的目的。</p>
<h3 id="几点说明：">&#20960;&#28857;&#35828;&#26126;&#65306;<a class="anchor-link" href="#几点说明：">&#182;</a></h3><ul>
<li>本文大量参考了参考文献[1]</li>
<li>本文的写作环境使用Python 2.7, IPython Notebook 1.1.0, Cython 0.17.2和Windows 7 64bit</li>
<li>为了展示方便，本文并没有描述如何在实际开发环境中编译和使用Cython模块，请参考官方文档（<a href="http://docs.cython.org/src/tutorial/cython_tutorial.html）">http://docs.cython.org/src/tutorial/cython_tutorial.html）</a></li>
<li>Cython、Numba、PyPy等都可以用于优化Python程序的运行效率，numpy等专门进行科学计算的模块本身也会有优化，请不要把自己的思路限制在这里</li>
<li>Cython实际上是一种新的编程语言，主要用于开发Python扩展模块，我们基于Cython所做的优化，本质是使用了Cython这种编程语言编写了融合C和Python风格的程序，然后通过编译称为程序模块，如其官方文档所说：[Cython] is a programming language that makes writing C extensions for the Python language as easy as Python itself. It aims to become a superset of the [Python] language which gives it high-level, object-oriented, functional, and dynamic programming. Its main feature on top of these is support for optional static type declarations as part of the language. The source code gets translated into optimized C/C++ code and compiled as Python extension modules. This allows for both very fast program execution and tight integration with external C libraries, while keeping up the high programmer productivity for which the Python language is well known. [2]</li>
<li>关于Cython在ipn中的使用，请参见：<a href="http://docs.cython.org/src/quickstart/build.html">http://docs.cython.org/src/quickstart/build.html</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="首先，为ipn设置ipython环境">&#39318;&#20808;&#65292;&#20026;ipn&#35774;&#32622;ipython&#29615;&#22659;<a class="anchor-link" href="#首先，为ipn设置ipython环境">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[190]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%</span><span class="k">load_ext</span> cythonmagic
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="以下是我们的测试函数，这个函数来自参考文献[1]，用于计算地球表面两点之间的距离">&#20197;&#19979;&#26159;&#25105;&#20204;&#30340;&#27979;&#35797;&#20989;&#25968;&#65292;&#36825;&#20010;&#20989;&#25968;&#26469;&#33258;&#21442;&#32771;&#25991;&#29486;[1]&#65292;&#29992;&#20110;&#35745;&#31639;&#22320;&#29699;&#34920;&#38754;&#20004;&#28857;&#20043;&#38388;&#30340;&#36317;&#31163;<a class="anchor-link" href="#以下是我们的测试函数，这个函数来自参考文献[1]，用于计算地球表面两点之间的距离">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[169]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">great_circle_1</span><span class="p">(</span><span class="n">lon1</span><span class="p">,</span><span class="n">lat1</span><span class="p">,</span><span class="n">lon2</span><span class="p">,</span><span class="n">lat2</span><span class="p">):</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">3956</span> <span class="c">#miles</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">180.0</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="p">(</span><span class="n">lon2</span><span class="o">-</span><span class="n">lon1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">b</span><span class="p">))</span><span class="o">+</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">radius</span><span class="o">*</span><span class="n">c</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[170]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%%</span><span class="k">time</span>
lon1, lat1, lon2, lat2 = -72.345, 34.323, -61.823, 54.826
for i in xrange(500000):
    great_circle_1(lon1,lat1,lon2,lat2)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 1.16 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="经过测试，得到了运行时间的baseline。">&#32463;&#36807;&#27979;&#35797;&#65292;&#24471;&#21040;&#20102;&#36816;&#34892;&#26102;&#38388;&#30340;baseline&#12290;<a class="anchor-link" href="#经过测试，得到了运行时间的baseline。">&#182;</a></h4><p>在这个函数的运行过程中，数学运算占据了很大比例，Cython使我们指定变量的类型为C语言的数据类型，这也是最基本的加速手段，改动后的程序如下：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[183]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%%</span><span class="n">cython</span>
<span class="k">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">great_circle_2</span><span class="p">(</span><span class="nb">float</span> <span class="n">lon1</span><span class="p">,</span><span class="nb">float</span> <span class="n">lat1</span><span class="p">,</span><span class="nb">float</span> <span class="n">lon2</span><span class="p">,</span><span class="nb">float</span> <span class="n">lat2</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">radius</span> <span class="o">=</span> <span class="mf">3956.0</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">pi</span> <span class="o">=</span> <span class="mf">3.14159265</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">x</span> <span class="o">=</span> <span class="n">pi</span><span class="o">/</span><span class="mf">180.0</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">a</span><span class="p">,</span><span class="nf">b</span><span class="p">,</span><span class="nf">theta</span><span class="p">,</span><span class="nf">c</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="p">(</span><span class="n">lon2</span><span class="o">-</span><span class="n">lon1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">radius</span><span class="o">*</span><span class="n">c</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[184]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%%</span><span class="k">time</span>
lon1, lat1, lon2, lat2 = -72.345, 34.323, -61.823, 54.826
for i in xrange(500000):
    great_circle_2(lon1,lat1,lon2,lat2)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 1.02 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="可以看到，速度得到了一定程度的提升">&#21487;&#20197;&#30475;&#21040;&#65292;&#36895;&#24230;&#24471;&#21040;&#20102;&#19968;&#23450;&#31243;&#24230;&#30340;&#25552;&#21319;<a class="anchor-link" href="#可以看到，速度得到了一定程度的提升">&#182;</a></h4><p>这基本上可以说是最为无脑的“优化”方法。在此基础上，如果我们继续分析可以发现，性能瓶颈可能存在于Python的Math模块，Cython允许我们引入C语言的函数库，这时Cython加速的重要途径，改动后的程序如下（顺便可以把函数的定义也改成C风格的）：</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[187]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%%</span><span class="n">cython</span>
<span class="k">cdef</span> <span class="kr">extern</span> <span class="k">from</span> <span class="s">&quot;math.h&quot;</span><span class="p">:</span>
    <span class="nb">float</span> <span class="n">cosf</span><span class="p">(</span><span class="nb">float</span> <span class="n">theta</span><span class="p">)</span>
    <span class="nb">float</span> <span class="n">sinf</span><span class="p">(</span><span class="nb">float</span> <span class="n">theta</span><span class="p">)</span>
    <span class="nb">float</span> <span class="n">acosf</span><span class="p">(</span><span class="nb">float</span> <span class="n">theta</span><span class="p">)</span>

<span class="k">cdef</span> <span class="nf">great_circle_3</span><span class="p">(</span><span class="nb">float</span> <span class="n">lon1</span><span class="p">,</span><span class="nb">float</span> <span class="n">lat1</span><span class="p">,</span><span class="nb">float</span> <span class="n">lon2</span><span class="p">,</span><span class="nb">float</span> <span class="n">lat2</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">radius</span> <span class="o">=</span> <span class="mf">3956.0</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">pi</span> <span class="o">=</span> <span class="mf">3.14159265</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">x</span> <span class="o">=</span> <span class="n">pi</span><span class="o">/</span><span class="mf">180.0</span>
    <span class="k">cdef</span> <span class="kt">float</span> <span class="nf">a</span><span class="p">,</span><span class="nf">b</span><span class="p">,</span><span class="nf">theta</span><span class="p">,</span><span class="nf">c</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mf">90.0</span><span class="o">-</span><span class="n">lat2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="p">(</span><span class="n">lon2</span><span class="o">-</span><span class="n">lon1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">acosf</span><span class="p">((</span><span class="n">cosf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">cosf</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">sinf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="n">sinf</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="n">cosf</span><span class="p">(</span><span class="n">theta</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">radius</span><span class="o">*</span><span class="n">c</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[188]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="o">%%</span><span class="k">time</span>
lon1, lat1, lon2, lat2 = -72.345, 34.323, -61.823, 54.826
for i in xrange(500000):
    great_circle_3(lon1,lat1,lon2,lat2)
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Wall time: 272 ms
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="经过测试，速度有了非常明显的提升。">&#32463;&#36807;&#27979;&#35797;&#65292;&#36895;&#24230;&#26377;&#20102;&#38750;&#24120;&#26126;&#26174;&#30340;&#25552;&#21319;&#12290;<a class="anchor-link" href="#经过测试，速度有了非常明显的提升。">&#182;</a></h4><p>其实，这段程序依然有优化的空间，其中之一是使用C语言的循环代替Python的for循环，因为使用一个Python的for循环执行一个C风格的函数，会存在一些转换开销，不过，这里就不做演示咯（懒！）</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Reference:">Reference:<a class="anchor-link" href="#Reference:">&#182;</a></h2><p>[1] <a href="http://blog.perrygeo.net/2008/04/19/a-quick-cython-introduction/">http://blog.perrygeo.net/2008/04/19/a-quick-cython-introduction/</a></p>
<p>[2] <a href="http://docs.cython.org/src/quickstart/overview.html">http://docs.cython.org/src/quickstart/overview.html</a></p>

</div>
</div>
</div>
    </div>
  </div>

            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2015-04-14T13:02:00+08:00">四月 14, 2015</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#python-ref">Python</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#cython-ref">Cython
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#python-ref">Python
                    <span>3</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</body>
</html>